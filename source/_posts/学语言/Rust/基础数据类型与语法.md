# Rust åŸºç¡€

## 0. å˜é‡ä¸å¯å˜
rust ä¸­å˜é‡é»˜è®¤ä¸å¯å˜ï¼Œå¦‚æœéœ€è¦ä½¿å…¶å¯å˜ï¼Œéœ€è¦æ·»åŠ  ```mut``` å…³é”®å­—
```rust
fn main() {
    let x = 5;
    println!("The value of x is: {}", x);
    x = 6;  // failed
    println!("The value of x is: {}", x);
}
```

æ·»åŠ  ```mut``` å…³é”®å­—
```rust
fn main() {
    let mut x = 5;
    println!("The value of x is: {}", x);
    x = 6;  // success
    println!("The value of x is: {}", x);
}
```

ä¾‹å¤–æƒ…å†µï¼Œè‹¥é’ˆå¯¹æŸä¸ªå€¼åšç®€å•è¿ç®—å†èµ‹ç»™è¯¥å€¼ï¼Œæ˜¯å¯ä»¥çš„
```rust
fn main() {
    let x = 5;
    let x = x + 1;
    let x = x * 2;
    println!("The value of x is: {}", x);    // 12
}
```

åŒåå˜é‡å†èµ‹å€¼ç»™è‡ªèº«ï¼Œéœ€è¦æ·»åŠ  ```let``` å…³é”®å­—
```rust
let spaces = "   ";
let spaces = spaces.len();  // success
```

```rust
let mut spaces = "   ";
spaces = spaces.len();      // failed
```

## 1. åŸºç¡€æ•°æ®ç±»å‹
### 1.1 4 ç§ç®€å•æ•°æ®ç±»å‹ï¼ˆscalar typeï¼‰

#### 1.1.1 integer
å…¶ä¸­ signed çš„æ¯ä¸ªæ•°æ®èŒƒå›´ï¼Œä» ```-2^(n - 1) ~ 2^(n - 1) - 1```ï¼Œ
unsigned çš„æ¯ä¸ªæ•°æ®èŒƒå›´ï¼Œä» ```0 ~ 2^n - 1```
è‹¥èµ‹å€¼ç»™è¶…å‡ºæ•°æ®ç±»å‹èŒƒå›´çš„å€¼ï¼Œä¼šå‡ºç° Integer Overflow é”™è¯¯
|  length   |  Signed  |  Unsigned  |
|  ----  | ----  |  ---- |
|  8-bit |  i8  |  u8  |
|  16-bit |  i16  |  u16  |
|  32-bit |  i32  |  u32  |
|  64-bit |  i64  |  u64  |
|  128-bit |  i128  |  u128  |
|  arch |  isize  |  usize  |

å…¶ä¸­ isize å’Œ usize ç”¨äºä½œä¸ºè¿­ä»£çš„ indexã€‚
å¸¸é‡å®šä¹‰æ ¼å¼
|  Number Literals   |  Example  |
|  ----  | ----  |
|  Decimal |  98_222  |
|  Hex |  0xff  |
|  Octal |  0o77  |
|  Binary |  0b1111_0000  |
|  Byte(u8 only) |  b'A'  |

#### 1.1.2 floating point
åŒ…æ‹¬å•ç²¾åº¦æµ®ç‚¹å‹ï¼ˆf32ï¼‰å’ŒåŒç²¾åº¦æµ®ç‚¹å‹ï¼ˆf64ï¼‰ï¼Œé»˜è®¤æ•°æ®ç±»å‹ä¸º f64ã€‚æ ¼å¼ç¬¦åˆ IEEE-754 æ ‡å‡†ã€‚

```rust
fn main() {
    let x = 2.0; // f64
    let y: f32 = 3.0; // f32
}
```

#### 1.1.3 bool
å–å€¼ä¸¤ç§ ```true``` å’Œ ```false```
if è¯­å¥ä¸­çš„æ¡ä»¶å¿…é¡»æ˜¯ bool ç±»å‹ã€‚

#### 1.1.4 character
å­—ç¬¦ç”¨ ```'```ï¼Œå­—ç¬¦ä¸²ä½¿ç”¨ ```"```ã€‚
```rust
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let heart_eyed_cat = 'ğŸ˜»';
}
```

### 1.2 2 ç§å¤åˆæ•°æ®ç±»å‹ï¼ˆprimitive typeï¼‰
#### 1.2.1 tuple
ä¸€æ—¦åˆ›å»ºï¼Œé•¿åº¦ä¸å¯å˜ï¼Œæ¯ä¸ªå…ƒç´ ç±»å‹å¯ä¸åŒã€‚
å–å€¼
```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
}
```

æ‹†åŒ…ï¼ˆdestructuringï¼‰
```rust
fn main() {
    let tup = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("The value of y is: {}", y);
}
```

#### 1.2.2 array
æ•°ç»„å†…çš„å…ƒç´ ç±»å‹å¿…é¡»ç›¸åŒã€‚
å®šä¹‰
```rust
let a = [1, 2, 3, 4, 5];
let a: [i32; 5] = [1, 2, 3, 4, 5];
// ç­‰ä»·äº let a = [3, 3, 3, 3, 3];
let a = [3; 5];
```

å–å€¼
```rust
let a = [1, 2, 3, 4, 5];
let first = a[0];
let second = a[1];
```

## 2. åŸºç¡€è¯­æ³•
### 2.1 æ³¨é‡Š
```rust
let lucky_number = 7; // Iâ€™m feeling lucky today

// Iâ€™m feeling lucky today
let lucky_number = 7;
```

### 2.2 æ¡ä»¶åˆ¤æ–­
```rust
fn main() {
    let number = 6;

    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3");
    } else if number % 2 == 0 {
        println!("number is divisible by 2");
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}
```

ç®€å†™ï¼Œif å’Œ else ä¸­çš„æ•°æ®ç±»å‹å¿…é¡»ä¸€è‡´
```rust
fn main() {
    let condition = true;
    let number = if condition { 5 } else { 6 };

    println!("The value of number is: {}", number);
}
```

### 2.3 å¾ªç¯
#### 2.3.1 loop 
æ— é™å¾ªç¯ï¼Œæ— ç»ˆæ­¢æ¡ä»¶ï¼Œéœ€è¦é…åˆ ```break``` ä½¿ç”¨ã€‚
```rust
fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("The result is {}", result);
}
```

#### 2.3.2 while
åŒ…å«ä¸€ä¸ªé€€å‡ºæ¡ä»¶ï¼Œæ§åˆ¶å¾ªç¯æ¡ä»¶éœ€è‡ªå·±å®ç°ã€‚
```rust
fn main() {
    let mut number = 3;

    while number != 0 {
        println!("{}!", number);

        number -= 1;
    }

    println!("LIFTOFF!!!");
}
```

#### 2.3.3 for
æ•°ç»„éå†
```rust
fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a.iter() {
        println!("the value is: {}", element);
    }
}
```

æ•°å­—åºåˆ—è¾“å‡º
```rust
fn main() {
    for number in (1..4).rev() {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}
```
